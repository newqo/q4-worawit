<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic JavaScript</title>
    <script>
        let student = [
            {
                fullname: "นายตั้งใจ เรียนมาก",
                age: 18,
                year: 1,
                gpa: 3.40,
                help: true
            },
            {
                fullname: "นายส่งงาน ตลอดมา",
                age: 19,
                year: 2,
                gpa: 3.00,
                help: false
            },
            {
                fullname: "นางสาวใส่ใจ ดีงาม",
                age: 20,
                year: 3,
                gpa: 2.90,
                help: true
            }
        ]

        var year = new Date().getFullYear();
        year += 543;

        flag_scholarship = [0,0,0,0];

        for (var i in student){
            if((student[i].gpa >= 3.20) || (student[i].year >= 2 && student[i].help == true && student[i].gpa >= 2.75)){
                console.log(student[i].fullname + " เกิดเมื่อปี " + (year - student[i].age) + " ได้รับทุนการศึกษา เนื่องจากเกรดเฉลี่ยถึงเกณฑ์และยังช่วยงานภาควิชาด้วย");
                if(flag_scholarship[student[i].year - 1] == 0){
                    flag_scholarship[student[i].year - 1] = 1;
                }
            }
            else{
                console.log(student[i].fullname + " เกิดเมื่อปี " + (year - student[i].age) + " ไม่ได้รับทุนการศึกษา เนื่องจากเกรดเฉลี่ยไม่ถึงเกณฑ์ และยังไม่ได้ช่วยงานภาควิชา");
            }
        }
        for (var i in student){
            console.log("ชั้นปีที่ " + (parseInt(i) + 1));
            if(flag_scholarship[i] != 0){
                console.log(student[i].fullname + " เกิดเมื่อปี " + (year - student[i].age) + "เนื่องจากเกรดเฉลี่ยถึงเกณฑ์และยังช่วยงานภาควิชาด้วย");
            }
            else
            {
                console.log("ไม่มี");
            }
        }
    </script>
</head>
<body>

</body>
</html>